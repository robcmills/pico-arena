# Bugs


# TODO

- [x] Use _update60
- [x] Refactor movement
- [x] Add "tests"
- [ ] find missing frame 2
- [ ] Fix line
  - [x] fix line end point not aligning with player
  - [ ] line collision should cancel player movement|dash
- [ ] taking damage
  - [ ] prevent player from firing
  - [ ] prevent player from dashing
  - [ ] prevent player from moving
  - [ ] prevent player from taking additional damage
- [ ] Prevent fire when taking damage (duel mechanic:first to draw gains advantage)
- [ ] Add "dash" move
  - [x] dmg collider and push back
  - [ ] dash player collisions should push back 1 tile or more? into void?
  - [x] add particle trail
  - [ ] change dash trail color
  - [x] drain energy when dashing
  - [ ] handle dash vs dash collision (cancel)
  - [ ] cancel dash if hit with line weapon
  - [ ] enable adjacent dash
- [ ] Add blocking (energy shield)
  - [ ] drain energy while shielding
  - [ ] reflect line shots
- [ ] rock, paper, scissor mechanic
    - shield beats laser
    - dash beats shield
    - laser beats dash
- [ ] Add "fall" into void tiles
- [x] Namespace all game state globals (game.x)
- [ ] Refactor naming (longer, more explicit, more scalable)
- [x] Prevent fragged player from colliding
- [x] Respawn fragged player
- [ ] Add fancy animations for:
  - [x] player spawn
  - [ ] energy pickup
- [ ] Enable choosing player color
- [x] Add frag counts to HUD
- [ ] Add game clock
- [ ] Add energy (in progress)
  - [x] Implement energy respawn (timer)
- [ ] Add more map tile types
  - [ ] destructible walls
  - [ ] movable walls
  - [ ] voids
  - [ ] "push" pads
  - [ ] portals
  - [ ] floors
  - [ ] doors
  - [ ] stairs
  - [ ] ladders
  - [ ] elevators
  - [ ] bridges
  - [ ] platforms
  - [ ] lava
  - [ ] water (slows movement)
  - [ ] ice
  - [ ] fire
  - [ ] shiny/reflective floors/walls
  - [ ] "alive" tiles with animations responsive to player movement
- [ ] Add more weapons
  - [ ] shield
  - [ ] rockets
  - [ ] grenades
  - [ ] reflectors
  - [ ] corners
  - [ ] path finders
  - [ ] tetris
  - [ ] tron lightcycle
- [ ] Add more maps
- [ ] Add splash start screen
- [ ] Add more game types
  - [ ] single player
  - [ ] cooperative multiplayer
  - [ ] ctf
- [ ] Add arena "backgrounds" ?
  - [ ] bleachers with audience/crowd/spectators/fans
- [ ] Add arena validation
  - [ ] ensure at least two spawn points
- [ ] Add two types of spawn tiles, initial and regular
- [x] Make players face each other on first spawn
